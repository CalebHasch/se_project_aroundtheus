!function(){"use strict";class e{constructor(e,t){this.settingsObj=e,this.form=t,this._submitButton=this.form.querySelector(e.submitButtonSelector),this._inputList=Array.from(this.form.querySelectorAll(e.inputSelector))}enableValidation(){this._inputList.forEach((e=>{this._addInputEvents(e)}))}_addInputEvents(e){e.addEventListener("input",(()=>{this._checkValidity(e),this.toggleSubmitButton()}))}_checkValidity(e){const t=e.nextSibling.nextSibling;e.validity.valid?this._hideError(t,e):this._showError(t,e)}resetValidation(){this.toggleSubmitButton(),this._inputList.forEach((e=>{this._hideError(e.nextSibling.nextSibling,e)}))}_showError(e,t){const s=t.validationMessage;t.classList.add(this.settingsObj.inputErrorClass),e.textContent=s}_hideError(e,t){t.classList.remove(this.settingsObj.inputErrorClass),e.textContent=""}toggleSubmitButton(){this._hasInvalidInput(this._inputList)?(this._submitButton.classList.add(this.settingsObj.inactiveButtonClass),this._submitButton.disabled=!0):(this._submitButton.classList.remove(this.settingsObj.inactiveButtonClass),this._submitButton.disabled=!1)}_hasInvalidInput(){return this._inputList.some((e=>!e.validity.valid))}}class t{constructor(e,t,s,i,r){this.image=e.link,this.text=e.name,this.id=e._id,this.isLiked=e.isLiked,this.cardTemplate=document.querySelector(t).content,this.handleImageClick=s,this.handleTrashClick=i,this.handleLikeClick=r,this._cardElement=this.cardTemplate.querySelector(".locations__card").cloneNode(!0),this._cardImage=this._cardElement.querySelector(".card__image"),this._cardTitle=this._cardElement.querySelector(".card__title"),this._deleteButton=this._cardElement.querySelector(".card__delete-icon"),this._likeButton=this._cardElement.querySelector(".card__like-icon")}_setEventListeners(){this._likeButton.addEventListener("click",(()=>{this.handleLikeClick(this)})),this._deleteButton.addEventListener("click",(()=>{this.handleTrashClick(this)})),this._cardImage.addEventListener("click",this.handleImageClick)}renderLikes=()=>{this.isLiked?this._likeButton.classList.add("card__like-icon_clicked"):this._likeButton.classList.remove("card__like-icon_clicked")};removeCard=()=>{this._cardElement.remove()};createCard(){return this._setEventListeners(),this.renderLikes(),this._cardImage.src=this.image,this._cardImage.alt=this.text,this._cardTitle.textContent=this.text,this._cardElement}}class s{constructor(e){this.modal=document.querySelector(e)}openModal(){this.modal.classList.add("modal_opened"),this.modal.addEventListener("click",this._handleCloseEvent),document.addEventListener("keydown",this._handleCloseEvent)}closeModal(){this.modal.classList.remove("modal_opened"),this.modal.removeEventListener("click",this._handleCloseEvent),document.removeEventListener("keydown",this._handleCloseEvent)}_handleCloseEvent=e=>{(e.target.classList.contains("modal")||"Escape"==e.key)&&this.closeModal()};setEventListeners(){this.modal.querySelector(".modal__close").addEventListener("click",(()=>this.closeModal()))}}class i extends s{constructor(e,t){super(e),this.submit=t,this.form=this.modal.querySelector(".form"),this.inputs=this.form.querySelectorAll(".form__input"),this.button=this.form.querySelector(".form__submit-button"),this.buttonText=this.button.textContent}renderLoading(e){this.button.textContent=e?"Saving...":this.buttonText}_getInputValues(){const e={};return this.inputs.forEach((t=>{t.name,e[t.name]=t.value})),e}setInputs(e){this.inputs.forEach((t=>{t.value=e[t.name]}))}setEventListeners(){super.setEventListeners(),this.form.addEventListener("submit",(e=>{e.preventDefault(),this.submit(this._getInputValues())}))}}const r=new class{constructor(e){this._baseUrl=e.baseUrl,this._headers=e.headers}_processResponse=e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`);getUserInfo(){return fetch(`${this._baseUrl}/users/me`,{headers:this._headers}).then(this._processResponse).then((e=>(e.description=e.about,e)))}updateUserInfo(e){let{name:t,description:s}=e;return fetch(`${this._baseUrl}/users/me`,{method:"PATCH",headers:this._headers,body:JSON.stringify({name:t,about:s})}).then(this._processResponse)}updateUserImage(e){let{avatar:t}=e;return fetch(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:t})}).then(this._processResponse)}getInitialCards(){return fetch(`${this._baseUrl}/cards`,{headers:this._headers}).then(this._processResponse).then((e=>e))}postCard(e){let{name:t,link:s}=e;return fetch(`${this._baseUrl}/cards`,{method:"POST",headers:this._headers,body:JSON.stringify({name:t,link:s})}).then(this._processResponse)}deleteCard(e){return fetch(`${this._baseUrl}/cards/${e}`,{method:"DELETE",headers:this._headers}).then(this._processResponse)}likeCard(e){return fetch(`${this._baseUrl}/cards/${e}/likes`,{method:"PUT",headers:this._headers}).then(this._processResponse)}dislikeCard(e){return fetch(`${this._baseUrl}/cards/${e}/likes`,{method:"DELETE",headers:this._headers}).then(this._processResponse)}getAll(){return Promise.all([this.getUserInfo(),this.getInitialCards()]).then((e=>e))}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"fd5203a5-1f57-4428-b210-42e565daa250","Content-Type":"application/json"}}),n={formSelector:".form",fieldSelector:".form__field",inputSelector:".form__input",errorSelector:".form__error",submitButtonSelector:".form__submit-button",inactiveButtonClass:"form__submit-button_inactive",inputErrorClass:"form__input_invalid"},o=document.querySelector(".profile__edit-button"),a=document.querySelector(".profile__add-button"),d=document.querySelector(".profile__pic"),l=document.forms["form-edit-profile"],c=document.forms["form-add-card"],h=document.forms["form-profile-pic"],u=document.querySelector(".location__image"),p=document.querySelector(".location__title"),m={cardPopup:new i("#add-card-modal",(function(e){let{title:t,link:s}=e;const i={name:t,link:s};m.cardPopup.renderLoading(!0),r.postCard(i).then((e=>{f.addItem(e,"prepend"),m.cardPopup.form.reset(),m.cardPopup.closeModal(),b.cardFormValidation.toggleSubmitButton()})).catch((e=>console.error(e))).finally((()=>m.cardPopup.renderLoading(!1)))})),profilePopup:new i("#edit-profile-modal",(function(e){let{name:t,description:s}=e;m.profilePopup.renderLoading(!0),r.updateUserInfo({name:t,description:s}).then((()=>{_.setUserInfo({name:t,description:s}),m.profilePopup.closeModal()})).catch((e=>console.error(e))).finally((()=>m.profilePopup.renderLoading(!1)))})),profilePicPopup:new i("#profile-pic-modal",(function(e){let{avatar:t}=e;m.profilePicPopup.renderLoading(!0),r.updateUserImage({avatar:t}).then((()=>{_.setUserImage({avatar:t}),m.profilePicPopup.closeModal(),m.profilePicPopup.form.reset(),b.picFormValidation.toggleSubmitButton()})).catch((e=>console.error(e))).finally((()=>m.profilePicPopup.renderLoading(!1)))})),deleteCardPopup:new class extends s{constructor(e,t){super(e),this._form=this.modal.querySelector(".form"),this._button=this._form.querySelector(".form__submit-button"),this._buttonText=this._button.textContent}renderLoading(e){this._button.textContent=e?"Deleting...":this._buttonText}setAction(e){this._handleFormSubmit=e}setEventListeners(){super.setEventListeners(),this._form.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit()}))}}("#delete-card-modal",g),locationPopup:new class extends s{openModal=(e,t,s)=>{let{name:i,link:r}=e;t.src=r,t.alt=i,s.textContent=i,super.openModal()}}("#location-modal")},_=new class{constructor(e,t){let{nameSelector:s,descriptionSelector:i}=e;this.name=document.querySelector(s),this.description=document.querySelector(i),this.image=t}getUserInfo(){return{name:this.name.textContent,description:this.description.textContent}}setUserInfo(e){let{name:t,description:s}=e;this.name.textContent=t,this.description.textContent=s}setUserImage(e){let{avatar:t}=e;this.image.src=t}}({nameSelector:".profile__name",descriptionSelector:".profile__subtitle"},d),f=new class{constructor(e,t){let{renderer:s}=e;this.renderer=s,this.container=document.querySelector(t)}renderItems(e){e.forEach((e=>{this.addItem(e)}))}addItem(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"append";const s=this.renderer(e);this.container[t](s)}}({renderer:function(e){return new t(e,"#locations__card",(()=>{m.locationPopup.openModal(e,u,p)}),v,L).createCard()}},".locations"),b={editFormValidation:new e(n,l),cardFormValidation:new e(n,c),picFormValidation:new e(n,h)};for(let e in m)m[e].setEventListeners();for(let e in b)b[e].enableValidation();function v(e){m.deleteCardPopup.openModal(),m.deleteCardPopup.setAction((()=>{g(e)}))}function g(e){m.deleteCardPopup.renderLoading(!0),r.deleteCard(e.id).then((()=>{e.removeCard(),m.deleteCardPopup.closeModal()})).catch((e=>console.error(e))).finally((()=>m.deleteCardPopup.renderLoading(!1)))}function L(e){e.isLiked?r.dislikeCard(e.id).then((t=>{e.isLiked=t.isLiked,e.renderLikes()})).catch((e=>console.error(e))):r.likeCard(e.id).then((t=>{e.isLiked=t.isLiked,e.renderLikes()})).catch((e=>console.error(e)))}r.getAll().then((e=>{let[t,s]=e;_.setUserInfo(t),_.setUserImage(t),m.profilePopup.setInputs(_.getUserInfo()),f.renderItems(s)})).catch((e=>console.error(e))),o.addEventListener("click",(function(){m.profilePopup.openModal(),b.editFormValidation.resetValidation()})),a.addEventListener("click",(function(){m.cardPopup.openModal()})),d.addEventListener("click",(function(){m.profilePicPopup.openModal()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RixPQUFPQyxHQUFRQyxRQUFRQyxNQUFNRixLQUM3QkcsU0FBUSxJQUFNZCxFQUFPcUIsZ0JBQWdCL0UsZUFBYyxJQUN4RCxDQUVBLFNBQVNxRyxFQUFXRixHQUNkQSxFQUFLdEksUUFDUDJDLEVBQUFBLFlBQ2UyRixFQUFLeEksSUFDakI0RCxNQUFNUixJQUNMb0YsRUFBS3RJLFFBQVVrRCxFQUFJbEQsUUFDbkJzSSxFQUFLM0gsYUFBYSxJQUVuQjRGLE9BQU9DLEdBQVFDLFFBQVFDLE1BQU1GLEtBRWhDN0QsRUFBQUEsU0FDWTJGLEVBQUt4SSxJQUNkNEQsTUFBTVIsSUFDTG9GLEVBQUt0SSxRQUFVa0QsRUFBSWxELFFBQ25Cc0ksRUFBSzNILGFBQWEsSUFFbkI0RixPQUFPQyxHQUFRQyxRQUFRQyxNQUFNRixJQUVwQyxDQXpHQTdELEVBQUFBLFNBRUdlLE1BQUtJLElBQTJCLElBQXpCNkUsRUFBVUMsR0FBVTlFLEVBQzFCK0MsRUFBU0MsWUFBWTZCLEdBQ3JCOUIsRUFBU0csYUFBYTJCLEdBQ3RCOUMsRUFBT2UsYUFBYXBFLFVBQVVxRSxFQUFTckQsZUFDdkMwQyxFQUFZNkIsWUFBWWEsRUFBVSxJQUVuQ3JDLE9BQU9DLEdBQVFDLFFBQVFDLE1BQU1GLEtBb0doQ3BCLEVBQVd0SCxpQkFBaUIsU0FBUyxXQUNuQytILEVBQU9lLGFBQWF6RixZQUNwQmtGLEVBQWVvQyxtQkFBbUJsSyxpQkFDcEMsSUFHQThHLEVBQVV2SCxpQkFBaUIsU0FBUyxXQUNsQytILEVBQU9DLFVBQVUzRSxXQUNuQixJQUdBbUUsRUFBYXhILGlCQUFpQixTQUFTLFdBQ3JDK0gsRUFBT2tCLGdCQUFnQjVGLFdBQ3pCLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybWF0aW9uLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcbiAgY29uc3RydWN0b3Ioc2V0dGluZ3NPYmosIGZvcm1FbGVtZW50KSB7XHJcbiAgICB0aGlzLnNldHRpbmdzT2JqID0gc2V0dGluZ3NPYmo7XHJcbiAgICB0aGlzLmZvcm0gPSBmb3JtRWxlbWVudDtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IHRoaXMuZm9ybS5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBzZXR0aW5nc09iai5zdWJtaXRCdXR0b25TZWxlY3RvclxyXG4gICAgKTtcclxuICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20oXHJcbiAgICAgIHRoaXMuZm9ybS5xdWVyeVNlbGVjdG9yQWxsKHNldHRpbmdzT2JqLmlucHV0U2VsZWN0b3IpXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICB0aGlzLl9hZGRJbnB1dEV2ZW50cyhpbnB1dCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIF9hZGRJbnB1dEV2ZW50cyhpbnB1dCkge1xyXG4gICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcclxuICAgICAgdGhpcy5fY2hlY2tWYWxpZGl0eShpbnB1dCk7XHJcbiAgICAgIHRoaXMudG9nZ2xlU3VibWl0QnV0dG9uKCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIF9jaGVja1ZhbGlkaXR5KGlucHV0KSB7XHJcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSBpbnB1dC5uZXh0U2libGluZy5uZXh0U2libGluZztcclxuXHJcbiAgICBpZiAoIWlucHV0LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgIHRoaXMuX3Nob3dFcnJvcihlcnJvckVsZW1lbnQsIGlucHV0KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2hpZGVFcnJvcihlcnJvckVsZW1lbnQsIGlucHV0KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJlc2V0VmFsaWRhdGlvbigpIHtcclxuICAgIHRoaXMudG9nZ2xlU3VibWl0QnV0dG9uKCk7XHJcblxyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIHRoaXMuX2hpZGVFcnJvcihpbnB1dC5uZXh0U2libGluZy5uZXh0U2libGluZywgaW5wdXQpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBfc2hvd0Vycm9yKGVycm9yRWxlbWVudCwgaW5wdXQpIHtcclxuICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGlucHV0LnZhbGlkYXRpb25NZXNzYWdlO1xyXG5cclxuICAgIGlucHV0LmNsYXNzTGlzdC5hZGQodGhpcy5zZXR0aW5nc09iai5pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xyXG4gIH1cclxuXHJcbiAgX2hpZGVFcnJvcihlcnJvckVsZW1lbnQsIGlucHV0KSB7XHJcbiAgICBpbnB1dC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuc2V0dGluZ3NPYmouaW5wdXRFcnJvckNsYXNzKTtcclxuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgfVxyXG5cclxuICB0b2dnbGVTdWJtaXRCdXR0b24oKSB7XHJcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KHRoaXMuX2lucHV0TGlzdCkpIHtcclxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5hZGQodGhpcy5zZXR0aW5nc09iai5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuc2V0dGluZ3NPYmouaW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX2hhc0ludmFsaWRJbnB1dCgpIHtcclxuICAgIHJldHVybiB0aGlzLl9pbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgZGF0YSxcclxuICAgIGNhcmRTZWxlY3RvcixcclxuICAgIGhhbmRsZUltYWdlQ2xpY2ssXHJcbiAgICBoYW5kbGVUcmFzaENsaWNrLFxyXG4gICAgaGFuZGxlTGlrZUNsaWNrXHJcbiAgKSB7XHJcbiAgICB0aGlzLmltYWdlID0gZGF0YS5saW5rO1xyXG4gICAgdGhpcy50ZXh0ID0gZGF0YS5uYW1lO1xyXG4gICAgdGhpcy5pZCA9IGRhdGEuX2lkO1xyXG4gICAgdGhpcy5pc0xpa2VkID0gZGF0YS5pc0xpa2VkO1xyXG4gICAgdGhpcy5jYXJkVGVtcGxhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNhcmRTZWxlY3RvcikuY29udGVudDtcclxuICAgIHRoaXMuaGFuZGxlSW1hZ2VDbGljayA9IGhhbmRsZUltYWdlQ2xpY2s7XHJcbiAgICB0aGlzLmhhbmRsZVRyYXNoQ2xpY2sgPSBoYW5kbGVUcmFzaENsaWNrO1xyXG4gICAgdGhpcy5oYW5kbGVMaWtlQ2xpY2sgPSBoYW5kbGVMaWtlQ2xpY2s7XHJcbiAgICB0aGlzLl9jYXJkRWxlbWVudCA9IHRoaXMuY2FyZFRlbXBsYXRlXHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmxvY2F0aW9uc19fY2FyZFwiKVxyXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xyXG4gICAgdGhpcy5fY2FyZEltYWdlID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKTtcclxuICAgIHRoaXMuX2NhcmRUaXRsZSA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fdGl0bGVcIik7XHJcbiAgICB0aGlzLl9kZWxldGVCdXR0b24gPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2RlbGV0ZS1pY29uXCIpO1xyXG4gICAgdGhpcy5fbGlrZUJ1dHRvbiA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1pY29uXCIpO1xyXG4gIH1cclxuXHJcbiAgLy9ldmVudCBsaXN0ZW5lcnMgZm9yIGNhcmRzXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fbGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLmhhbmRsZUxpa2VDbGljayh0aGlzKTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5fZGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuaGFuZGxlVHJhc2hDbGljayh0aGlzKTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5fY2FyZEltYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmhhbmRsZUltYWdlQ2xpY2spO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyTGlrZXMgPSAoKSA9PiB7XHJcbiAgICBpZiAodGhpcy5pc0xpa2VkKSB7XHJcbiAgICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LmFkZChcImNhcmRfX2xpa2UtaWNvbl9jbGlja2VkXCIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwiY2FyZF9fbGlrZS1pY29uX2NsaWNrZWRcIik7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgcmVtb3ZlQ2FyZCA9ICgpID0+IHtcclxuICAgIHRoaXMuX2NhcmRFbGVtZW50LnJlbW92ZSgpO1xyXG4gIH07XHJcblxyXG4gIC8vIGNyZWF0ZSBhIG5ldyBjYXJkXHJcbiAgY3JlYXRlQ2FyZCgpIHtcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLnJlbmRlckxpa2VzKCk7XHJcblxyXG4gICAgdGhpcy5fY2FyZEltYWdlLnNyYyA9IHRoaXMuaW1hZ2U7XHJcbiAgICB0aGlzLl9jYXJkSW1hZ2UuYWx0ID0gdGhpcy50ZXh0O1xyXG4gICAgdGhpcy5fY2FyZFRpdGxlLnRleHRDb250ZW50ID0gdGhpcy50ZXh0O1xyXG5cclxuICAgIHJldHVybiB0aGlzLl9jYXJkRWxlbWVudDtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHRoaXMubW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgb3Blbk1vZGFsKCkge1xyXG4gICAgdGhpcy5tb2RhbC5jbGFzc0xpc3QuYWRkKFwibW9kYWxfb3BlbmVkXCIpO1xyXG4gICAgdGhpcy5tb2RhbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5faGFuZGxlQ2xvc2VFdmVudCk7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVDbG9zZUV2ZW50KTtcclxuICB9XHJcblxyXG4gIGNsb3NlTW9kYWwoKSB7XHJcbiAgICB0aGlzLm1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoXCJtb2RhbF9vcGVuZWRcIik7XHJcbiAgICB0aGlzLm1vZGFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9oYW5kbGVDbG9zZUV2ZW50KTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUNsb3NlRXZlbnQpO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZUNsb3NlRXZlbnQgPSAoZSkgPT4ge1xyXG4gICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcIm1vZGFsXCIpIHx8IGUua2V5ID09IFwiRXNjYXBlXCIpIHtcclxuICAgICAgdGhpcy5jbG9zZU1vZGFsKCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBjb25zdCBidXR0b24gPSB0aGlzLm1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Nsb3NlXCIpO1xyXG5cclxuICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gdGhpcy5jbG9zZU1vZGFsKCkpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvciwgc3VibWl0RnVuY3Rpb24pIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5zdWJtaXQgPSBzdWJtaXRGdW5jdGlvbjtcclxuICAgIHRoaXMuZm9ybSA9IHRoaXMubW9kYWwucXVlcnlTZWxlY3RvcihcIi5mb3JtXCIpO1xyXG4gICAgdGhpcy5pbnB1dHMgPSB0aGlzLmZvcm0ucXVlcnlTZWxlY3RvckFsbChcIi5mb3JtX19pbnB1dFwiKTtcclxuICAgIHRoaXMuYnV0dG9uID0gdGhpcy5mb3JtLnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fc3VibWl0LWJ1dHRvblwiKTtcclxuICAgIHRoaXMuYnV0dG9uVGV4dCA9IHRoaXMuYnV0dG9uLnRleHRDb250ZW50O1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyTG9hZGluZyhpc0xvYWRpbmcpIHtcclxuICAgIGlmIChpc0xvYWRpbmcpIHtcclxuICAgICAgdGhpcy5idXR0b24udGV4dENvbnRlbnQgPSBcIlNhdmluZy4uLlwiO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5idXR0b24udGV4dENvbnRlbnQgPSB0aGlzLmJ1dHRvblRleHQ7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICBjb25zdCBpbnB1dHZhbHVlcyA9IHt9O1xyXG4gICAgdGhpcy5pbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgY29uc3QgcHJvcGVydHlOYW1lID0gaW5wdXQubmFtZTtcclxuICAgICAgaW5wdXR2YWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIGlucHV0dmFsdWVzO1xyXG4gIH1cclxuXHJcbiAgc2V0SW5wdXRzKGlucHV0VmFsdWVzKSB7XHJcbiAgICB0aGlzLmlucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICBpbnB1dC52YWx1ZSA9IGlucHV0VmFsdWVzW2lucHV0Lm5hbWVdO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLmZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHRoaXMuc3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsImNsYXNzIEFwaSB7XHJcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xyXG4gICAgdGhpcy5fYmFzZVVybCA9IG9wdGlvbnMuYmFzZVVybDtcclxuICAgIHRoaXMuX2hlYWRlcnMgPSBvcHRpb25zLmhlYWRlcnM7XHJcbiAgfVxyXG5cclxuICBfcHJvY2Vzc1Jlc3BvbnNlID0gKHJlcykgPT4ge1xyXG4gICAgaWYgKHJlcy5vaykge1xyXG4gICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgIH1cclxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcclxuICB9O1xyXG5cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pXHJcbiAgICAgIC50aGVuKHRoaXMuX3Byb2Nlc3NSZXNwb25zZSlcclxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgIHJlcy5kZXNjcmlwdGlvbiA9IHJlcy5hYm91dDtcclxuICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgICB9KTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZVVzZXJJbmZvKHsgbmFtZSwgZGVzY3JpcHRpb24gfSkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWU6IG5hbWUsXHJcbiAgICAgICAgYWJvdXQ6IGRlc2NyaXB0aW9uLFxyXG4gICAgICB9KSxcclxuICAgIH0pLnRoZW4odGhpcy5fcHJvY2Vzc1Jlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZVVzZXJJbWFnZSh7IGF2YXRhciB9KSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIGF2YXRhcjogYXZhdGFyLFxyXG4gICAgICB9KSxcclxuICAgIH0pLnRoZW4odGhpcy5fcHJvY2Vzc1Jlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIGdldEluaXRpYWxDYXJkcygpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pXHJcbiAgICAgIC50aGVuKHRoaXMuX3Byb2Nlc3NSZXNwb25zZSlcclxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgIHJldHVybiByZXM7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcG9zdENhcmQoeyBuYW1lLCBsaW5rIH0pIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcclxuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWU6IG5hbWUsXHJcbiAgICAgICAgbGluazogbGluayxcclxuICAgICAgfSksXHJcbiAgICB9KS50aGVuKHRoaXMuX3Byb2Nlc3NSZXNwb25zZSk7XHJcbiAgfVxyXG5cclxuICBkZWxldGVDYXJkKGNhcmRJZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfWAsIHtcclxuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSkudGhlbih0aGlzLl9wcm9jZXNzUmVzcG9uc2UpO1xyXG4gIH1cclxuXHJcbiAgbGlrZUNhcmQoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9L2xpa2VzYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUFVUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KS50aGVuKHRoaXMuX3Byb2Nlc3NSZXNwb25zZSk7XHJcbiAgfVxyXG5cclxuICBkaXNsaWtlQ2FyZChjYXJkSWQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2NhcmRJZH0vbGlrZXNgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pLnRoZW4odGhpcy5fcHJvY2Vzc1Jlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIGdldEFsbCgpIHtcclxuICAgIHJldHVybiBQcm9taXNlLmFsbChbdGhpcy5nZXRVc2VySW5mbygpLCB0aGlzLmdldEluaXRpYWxDYXJkcygpXSkudGhlbihcclxuICAgICAgKGRhdGEpID0+IHtcclxuICAgICAgICByZXR1cm4gZGF0YTtcclxuICAgICAgfVxyXG4gICAgKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBhcGkgPSBuZXcgQXBpKHtcclxuICBiYXNlVXJsOiBcImh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxXCIsXHJcbiAgaGVhZGVyczoge1xyXG4gICAgYXV0aG9yaXphdGlvbjogXCJmZDUyMDNhNS0xZjU3LTQ0MjgtYjIxMC00MmU1NjVkYWEyNTBcIixcclxuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gIH0sXHJcbn0pO1xyXG4iLCJjb25zdCB2YWxpZGF0aW9uT2JqID0ge1xyXG4gIGZvcm1TZWxlY3RvcjogXCIuZm9ybVwiLFxyXG4gIGZpZWxkU2VsZWN0b3I6IFwiLmZvcm1fX2ZpZWxkXCIsXHJcbiAgaW5wdXRTZWxlY3RvcjogXCIuZm9ybV9faW5wdXRcIixcclxuICBlcnJvclNlbGVjdG9yOiBcIi5mb3JtX19lcnJvclwiLFxyXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5mb3JtX19zdWJtaXQtYnV0dG9uXCIsXHJcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJmb3JtX19zdWJtaXQtYnV0dG9uX2luYWN0aXZlXCIsXHJcbiAgaW5wdXRFcnJvckNsYXNzOiBcImZvcm1fX2lucHV0X2ludmFsaWRcIixcclxufTtcclxuXHJcbi8vIGRlY2xhcmUgYnV0dG9uc1xyXG5jb25zdCBlZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19lZGl0LWJ1dHRvblwiKTtcclxuY29uc3QgYWRkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hZGQtYnV0dG9uXCIpO1xyXG5jb25zdCBwcm9maWxlSW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX3BpY1wiKTtcclxuXHJcbi8vZGVjbGFyZSBtb2RhbCBlbGVtZW50c1xyXG5jb25zdCBlZGl0Rm9ybSA9IGRvY3VtZW50LmZvcm1zW1wiZm9ybS1lZGl0LXByb2ZpbGVcIl07XHJcbmNvbnN0IGFkZENhcmRGb3JtID0gZG9jdW1lbnQuZm9ybXNbXCJmb3JtLWFkZC1jYXJkXCJdO1xyXG5jb25zdCBwcm9maWxlUGljRm9ybSA9IGRvY3VtZW50LmZvcm1zW1wiZm9ybS1wcm9maWxlLXBpY1wiXTtcclxuY29uc3QgbW9kYWxJbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubG9jYXRpb25fX2ltYWdlXCIpO1xyXG5jb25zdCBtb2RhbFRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5sb2NhdGlvbl9fdGl0bGVcIik7XHJcblxyXG5leHBvcnQge1xyXG4gIHZhbGlkYXRpb25PYmosXHJcbiAgZWRpdEJ1dHRvbixcclxuICBhZGRCdXR0b24sXHJcbiAgcHJvZmlsZUltYWdlLFxyXG4gIHByb2ZpbGVQaWNGb3JtLFxyXG4gIGVkaXRGb3JtLFxyXG4gIGFkZENhcmRGb3JtLFxyXG4gIG1vZGFsSW1hZ2UsXHJcbiAgbW9kYWxUaXRsZSxcclxufTtcclxuIiwiaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcclxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xyXG5pbXBvcnQgQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XHJcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XHJcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhDb25maXJtYXRpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybWF0aW9uLmpzXCI7XHJcbmltcG9ydCB7IGFwaSB9IGZyb20gXCIuLi9jb21wb25lbnRzL0FwaS5qc1wiO1xyXG5cclxuaW1wb3J0IHtcclxuICB2YWxpZGF0aW9uT2JqLFxyXG4gIGVkaXRCdXR0b24sXHJcbiAgYWRkQnV0dG9uLFxyXG4gIHByb2ZpbGVJbWFnZSxcclxuICBwcm9maWxlUGljRm9ybSxcclxuICBlZGl0Rm9ybSxcclxuICBhZGRDYXJkRm9ybSxcclxuICBtb2RhbEltYWdlLFxyXG4gIG1vZGFsVGl0bGUsXHJcbn0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50cy5qc1wiO1xyXG5cclxuY29uc3QgcG9wdXBzID0ge1xyXG4gIGNhcmRQb3B1cDogbmV3IFBvcHVwV2l0aEZvcm0oXCIjYWRkLWNhcmQtbW9kYWxcIiwgcmVuZGVyTmV3Q2FyZCksXHJcbiAgcHJvZmlsZVBvcHVwOiBuZXcgUG9wdXBXaXRoRm9ybShcIiNlZGl0LXByb2ZpbGUtbW9kYWxcIiwgZWRpdFByb2ZpbGUpLFxyXG4gIHByb2ZpbGVQaWNQb3B1cDogbmV3IFBvcHVwV2l0aEZvcm0oXCIjcHJvZmlsZS1waWMtbW9kYWxcIiwgZWRpdFByb2ZpbGVQaWMpLFxyXG4gIGRlbGV0ZUNhcmRQb3B1cDogbmV3IFBvcHVwV2l0aENvbmZpcm1hdGlvbihcIiNkZWxldGUtY2FyZC1tb2RhbFwiLCBkZWxldGVDYXJkKSxcclxuICBsb2NhdGlvblBvcHVwOiBuZXcgUG9wdXBXaXRoSW1hZ2UoXCIjbG9jYXRpb24tbW9kYWxcIiksXHJcbn07XHJcblxyXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyhcclxuICB7XHJcbiAgICBuYW1lU2VsZWN0b3I6IFwiLnByb2ZpbGVfX25hbWVcIixcclxuICAgIGRlc2NyaXB0aW9uU2VsZWN0b3I6IFwiLnByb2ZpbGVfX3N1YnRpdGxlXCIsXHJcbiAgfSxcclxuICBwcm9maWxlSW1hZ2VcclxuKTtcclxuY29uc3QgY2FyZFNlY3Rpb24gPSBuZXcgU2VjdGlvbih7IHJlbmRlcmVyOiBjcmVhdGVDYXJkIH0sIFwiLmxvY2F0aW9uc1wiKTtcclxuXHJcbi8vIHZhbGlkYXRpb24gY2xhc3NcclxuY29uc3QgZm9ybVZhbGlkYXRvcnMgPSB7XHJcbiAgZWRpdEZvcm1WYWxpZGF0aW9uOiBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uT2JqLCBlZGl0Rm9ybSksXHJcbiAgY2FyZEZvcm1WYWxpZGF0aW9uOiBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uT2JqLCBhZGRDYXJkRm9ybSksXHJcbiAgcGljRm9ybVZhbGlkYXRpb246IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25PYmosIHByb2ZpbGVQaWNGb3JtKSxcclxufTtcclxuXHJcbi8vIGluaXRhaWwgc2V0dXBcclxuZm9yIChsZXQgcG9wdXAgaW4gcG9wdXBzKSB7XHJcbiAgcG9wdXBzW3BvcHVwXS5zZXRFdmVudExpc3RlbmVycygpO1xyXG59XHJcblxyXG5mb3IgKGxldCBmb3JtIGluIGZvcm1WYWxpZGF0b3JzKSB7XHJcbiAgZm9ybVZhbGlkYXRvcnNbZm9ybV0uZW5hYmxlVmFsaWRhdGlvbigpO1xyXG59XHJcblxyXG5hcGlcclxuICAuZ2V0QWxsKClcclxuICAudGhlbigoW3VzZXJEYXRhLCBjYXJkc0RhdGFdKSA9PiB7XHJcbiAgICB1c2VySW5mby5zZXRVc2VySW5mbyh1c2VyRGF0YSk7XHJcbiAgICB1c2VySW5mby5zZXRVc2VySW1hZ2UodXNlckRhdGEpO1xyXG4gICAgcG9wdXBzLnByb2ZpbGVQb3B1cC5zZXRJbnB1dHModXNlckluZm8uZ2V0VXNlckluZm8oKSk7XHJcbiAgICBjYXJkU2VjdGlvbi5yZW5kZXJJdGVtcyhjYXJkc0RhdGEpO1xyXG4gIH0pXHJcbiAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoZXJyKSk7XHJcblxyXG4vLyBlZGl0cyB0aGUgdXNlciBwcm9maWxlIGJhc2VkIG9mZiBmb3JtIGlucHV0c1xyXG5mdW5jdGlvbiBlZGl0UHJvZmlsZSh7IG5hbWUsIGRlc2NyaXB0aW9uIH0pIHtcclxuICBwb3B1cHMucHJvZmlsZVBvcHVwLnJlbmRlckxvYWRpbmcodHJ1ZSk7XHJcbiAgYXBpXHJcbiAgICAudXBkYXRlVXNlckluZm8oeyBuYW1lLCBkZXNjcmlwdGlvbiB9KVxyXG4gICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICB1c2VySW5mby5zZXRVc2VySW5mbyh7IG5hbWUsIGRlc2NyaXB0aW9uIH0pO1xyXG4gICAgICBwb3B1cHMucHJvZmlsZVBvcHVwLmNsb3NlTW9kYWwoKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihlcnIpKVxyXG4gICAgLmZpbmFsbHkoKCkgPT4gcG9wdXBzLnByb2ZpbGVQb3B1cC5yZW5kZXJMb2FkaW5nKGZhbHNlKSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGVkaXRQcm9maWxlUGljKHsgYXZhdGFyIH0pIHtcclxuICBwb3B1cHMucHJvZmlsZVBpY1BvcHVwLnJlbmRlckxvYWRpbmcodHJ1ZSk7XHJcbiAgYXBpXHJcbiAgICAudXBkYXRlVXNlckltYWdlKHsgYXZhdGFyIH0pXHJcbiAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgIHVzZXJJbmZvLnNldFVzZXJJbWFnZSh7IGF2YXRhciB9KTtcclxuICAgICAgcG9wdXBzLnByb2ZpbGVQaWNQb3B1cC5jbG9zZU1vZGFsKCk7XHJcbiAgICAgIHBvcHVwcy5wcm9maWxlUGljUG9wdXAuZm9ybS5yZXNldCgpO1xyXG4gICAgICBmb3JtVmFsaWRhdG9ycy5waWNGb3JtVmFsaWRhdGlvbi50b2dnbGVTdWJtaXRCdXR0b24oKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihlcnIpKVxyXG4gICAgLmZpbmFsbHkoKCkgPT4gcG9wdXBzLnByb2ZpbGVQaWNQb3B1cC5yZW5kZXJMb2FkaW5nKGZhbHNlKSk7XHJcbn1cclxuXHJcbi8vIHJlbmRlcnMgY2FyZCBjcmVhdGVkIGJ5IHVzZXJcclxuZnVuY3Rpb24gcmVuZGVyTmV3Q2FyZCh7IHRpdGxlLCBsaW5rIH0pIHtcclxuICBjb25zdCBjYXJkRGF0YSA9IHsgbmFtZTogdGl0bGUsIGxpbmsgfTtcclxuXHJcbiAgcG9wdXBzLmNhcmRQb3B1cC5yZW5kZXJMb2FkaW5nKHRydWUpO1xyXG4gIGFwaVxyXG4gICAgLnBvc3RDYXJkKGNhcmREYXRhKVxyXG4gICAgLnRoZW4oKGRhdGEpID0+IHtcclxuICAgICAgY2FyZFNlY3Rpb24uYWRkSXRlbShkYXRhLCBcInByZXBlbmRcIik7XHJcbiAgICAgIHBvcHVwcy5jYXJkUG9wdXAuZm9ybS5yZXNldCgpO1xyXG4gICAgICBwb3B1cHMuY2FyZFBvcHVwLmNsb3NlTW9kYWwoKTtcclxuICAgICAgZm9ybVZhbGlkYXRvcnMuY2FyZEZvcm1WYWxpZGF0aW9uLnRvZ2dsZVN1Ym1pdEJ1dHRvbigpO1xyXG4gICAgICAvLyByZXR1cm4gZGF0YTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihlcnIpKVxyXG4gICAgLmZpbmFsbHkoKCkgPT4gcG9wdXBzLmNhcmRQb3B1cC5yZW5kZXJMb2FkaW5nKGZhbHNlKSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUNhcmQoY2FyZERhdGEpIHtcclxuICBjb25zdCBjYXJkRWxlbWVudCA9IG5ldyBDYXJkKFxyXG4gICAgY2FyZERhdGEsXHJcbiAgICBcIiNsb2NhdGlvbnNfX2NhcmRcIixcclxuICAgICgpID0+IHtcclxuICAgICAgcG9wdXBzLmxvY2F0aW9uUG9wdXAub3Blbk1vZGFsKGNhcmREYXRhLCBtb2RhbEltYWdlLCBtb2RhbFRpdGxlKTtcclxuICAgIH0sXHJcbiAgICBvcGVuRGVsZXRlTW9kYWwsXHJcbiAgICB0b2dnbGVMaWtlXHJcbiAgKS5jcmVhdGVDYXJkKCk7XHJcbiAgcmV0dXJuIGNhcmRFbGVtZW50O1xyXG59XHJcblxyXG5mdW5jdGlvbiBvcGVuRGVsZXRlTW9kYWwoY2FyZCkge1xyXG4gIHBvcHVwcy5kZWxldGVDYXJkUG9wdXAub3Blbk1vZGFsKCk7XHJcbiAgcG9wdXBzLmRlbGV0ZUNhcmRQb3B1cC5zZXRBY3Rpb24oKCkgPT4ge1xyXG4gICAgZGVsZXRlQ2FyZChjYXJkKTtcclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gZGVsZXRlQ2FyZChjYXJkKSB7XHJcbiAgcG9wdXBzLmRlbGV0ZUNhcmRQb3B1cC5yZW5kZXJMb2FkaW5nKHRydWUpO1xyXG4gIGFwaVxyXG4gICAgLmRlbGV0ZUNhcmQoY2FyZC5pZClcclxuICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgY2FyZC5yZW1vdmVDYXJkKCk7XHJcbiAgICAgIHBvcHVwcy5kZWxldGVDYXJkUG9wdXAuY2xvc2VNb2RhbCgpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmVycm9yKGVycikpXHJcbiAgICAuZmluYWxseSgoKSA9PiBwb3B1cHMuZGVsZXRlQ2FyZFBvcHVwLnJlbmRlckxvYWRpbmcoZmFsc2UpKTtcclxufVxyXG5cclxuZnVuY3Rpb24gdG9nZ2xlTGlrZShjYXJkKSB7XHJcbiAgaWYgKGNhcmQuaXNMaWtlZCkge1xyXG4gICAgYXBpXHJcbiAgICAgIC5kaXNsaWtlQ2FyZChjYXJkLmlkKVxyXG4gICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgY2FyZC5pc0xpa2VkID0gcmVzLmlzTGlrZWQ7XHJcbiAgICAgICAgY2FyZC5yZW5kZXJMaWtlcygpO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihlcnIpKTtcclxuICB9IGVsc2Uge1xyXG4gICAgYXBpXHJcbiAgICAgIC5saWtlQ2FyZChjYXJkLmlkKVxyXG4gICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgY2FyZC5pc0xpa2VkID0gcmVzLmlzTGlrZWQ7XHJcbiAgICAgICAgY2FyZC5yZW5kZXJMaWtlcygpO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihlcnIpKTtcclxuICB9XHJcbn1cclxuXHJcbi8vZXZlbnQgbGlzdGVuZXIgZm9yIHByb2ZpbGUgZWRpdCBmb3JtXHJcbmVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICBwb3B1cHMucHJvZmlsZVBvcHVwLm9wZW5Nb2RhbCgpO1xyXG4gIGZvcm1WYWxpZGF0b3JzLmVkaXRGb3JtVmFsaWRhdGlvbi5yZXNldFZhbGlkYXRpb24oKTtcclxufSk7XHJcblxyXG4vL2V2ZW50IGxpc3RlbmVyIGZvciBsb2NhdGlvbiBhZGQgZm9ybVxyXG5hZGRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICBwb3B1cHMuY2FyZFBvcHVwLm9wZW5Nb2RhbCgpO1xyXG59KTtcclxuXHJcbi8vZXZlbnQgbGlzdGVuZXIgZm9yIHByb2ZpbGUgcGljIGZvcm1cclxucHJvZmlsZUltYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgcG9wdXBzLnByb2ZpbGVQaWNQb3B1cC5vcGVuTW9kYWwoKTtcclxufSk7XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoQ29uZmlybWF0aW9uIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIGFjdGlvbikge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9mb3JtID0gdGhpcy5tb2RhbC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1cIik7XHJcbiAgICB0aGlzLl9idXR0b24gPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fc3VibWl0LWJ1dHRvblwiKTtcclxuICAgIHRoaXMuX2J1dHRvblRleHQgPSB0aGlzLl9idXR0b24udGV4dENvbnRlbnQ7XHJcbiAgfVxyXG5cclxuICByZW5kZXJMb2FkaW5nKGlzTG9hZGluZykge1xyXG4gICAgaWYgKGlzTG9hZGluZykge1xyXG4gICAgICB0aGlzLl9idXR0b24udGV4dENvbnRlbnQgPSBcIkRlbGV0aW5nLi4uXCI7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9idXR0b24udGV4dENvbnRlbnQgPSB0aGlzLl9idXR0b25UZXh0O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2V0QWN0aW9uKGFjdGlvbikge1xyXG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGFjdGlvbjtcclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQoKTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gIG9wZW5Nb2RhbCA9ICh7IG5hbWUsIGxpbmsgfSwgbW9kYWxJbWFnZSwgbW9kYWxUaXRsZSkgPT4ge1xyXG4gICAgbW9kYWxJbWFnZS5zcmMgPSBsaW5rO1xyXG4gICAgbW9kYWxJbWFnZS5hbHQgPSBuYW1lO1xyXG4gICAgbW9kYWxUaXRsZS50ZXh0Q29udGVudCA9IG5hbWU7XHJcbiAgICBzdXBlci5vcGVuTW9kYWwoKTtcclxuICB9O1xyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcclxuICBjb25zdHJ1Y3Rvcih7IG5hbWVTZWxlY3RvciwgZGVzY3JpcHRpb25TZWxlY3RvciB9LCBwcm9maWxlSW1hZ2UpIHtcclxuICAgIHRoaXMubmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobmFtZVNlbGVjdG9yKTtcclxuICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGRlc2NyaXB0aW9uU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5pbWFnZSA9IHByb2ZpbGVJbWFnZTtcclxuICB9XHJcblxyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgY29uc3QgbmFtZSA9IHRoaXMubmFtZS50ZXh0Q29udGVudDtcclxuICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gdGhpcy5kZXNjcmlwdGlvbi50ZXh0Q29udGVudDtcclxuICAgIHJldHVybiB7IG5hbWUsIGRlc2NyaXB0aW9uIH07XHJcbiAgfVxyXG5cclxuICBzZXRVc2VySW5mbyh7IG5hbWUsIGRlc2NyaXB0aW9uIH0pIHtcclxuICAgIHRoaXMubmFtZS50ZXh0Q29udGVudCA9IG5hbWU7XHJcbiAgICB0aGlzLmRlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gZGVzY3JpcHRpb247XHJcbiAgfVxyXG5cclxuICBzZXRVc2VySW1hZ2UoeyBhdmF0YXIgfSkge1xyXG4gICAgdGhpcy5pbWFnZS5zcmMgPSBhdmF0YXI7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xyXG4gIGNvbnN0cnVjdG9yKHsgcmVuZGVyZXIgfSwgY2xhc3NTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gICAgdGhpcy5jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNsYXNzU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVySXRlbXMoaXRlbXMpIHtcclxuICAgIGl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgdGhpcy5hZGRJdGVtKGl0ZW0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBhZGRJdGVtKGVsZW1lbnQsIG1ldGhvZCA9IFwiYXBwZW5kXCIpIHtcclxuICAgIGNvbnN0IGNhcmQgPSB0aGlzLnJlbmRlcmVyKGVsZW1lbnQpO1xyXG4gICAgdGhpcy5jb250YWluZXJbbWV0aG9kXShjYXJkKTtcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbIkZvcm1WYWxpZGF0b3IiLCJjb25zdHJ1Y3RvciIsInNldHRpbmdzT2JqIiwiZm9ybUVsZW1lbnQiLCJ0aGlzIiwiZm9ybSIsIl9zdWJtaXRCdXR0b24iLCJxdWVyeVNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfaW5wdXRMaXN0IiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsImlucHV0U2VsZWN0b3IiLCJlbmFibGVWYWxpZGF0aW9uIiwiZm9yRWFjaCIsImlucHV0IiwiX2FkZElucHV0RXZlbnRzIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9jaGVja1ZhbGlkaXR5IiwidG9nZ2xlU3VibWl0QnV0dG9uIiwiZXJyb3JFbGVtZW50IiwibmV4dFNpYmxpbmciLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hpZGVFcnJvciIsIl9zaG93RXJyb3IiLCJyZXNldFZhbGlkYXRpb24iLCJlcnJvck1lc3NhZ2UiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsImNsYXNzTGlzdCIsImFkZCIsImlucHV0RXJyb3JDbGFzcyIsInRleHRDb250ZW50IiwicmVtb3ZlIiwiX2hhc0ludmFsaWRJbnB1dCIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJkaXNhYmxlZCIsInNvbWUiLCJpbnB1dEVsZW1lbnQiLCJDYXJkIiwiZGF0YSIsImNhcmRTZWxlY3RvciIsImhhbmRsZUltYWdlQ2xpY2siLCJoYW5kbGVUcmFzaENsaWNrIiwiaGFuZGxlTGlrZUNsaWNrIiwiaW1hZ2UiLCJsaW5rIiwidGV4dCIsIm5hbWUiLCJpZCIsIl9pZCIsImlzTGlrZWQiLCJjYXJkVGVtcGxhdGUiLCJkb2N1bWVudCIsImNvbnRlbnQiLCJfY2FyZEVsZW1lbnQiLCJjbG9uZU5vZGUiLCJfY2FyZEltYWdlIiwiX2NhcmRUaXRsZSIsIl9kZWxldGVCdXR0b24iLCJfbGlrZUJ1dHRvbiIsIl9zZXRFdmVudExpc3RlbmVycyIsInJlbmRlckxpa2VzIiwicmVtb3ZlQ2FyZCIsImNyZWF0ZUNhcmQiLCJzcmMiLCJhbHQiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJtb2RhbCIsIm9wZW5Nb2RhbCIsIl9oYW5kbGVDbG9zZUV2ZW50IiwiY2xvc2VNb2RhbCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJlIiwidGFyZ2V0IiwiY29udGFpbnMiLCJrZXkiLCJzZXRFdmVudExpc3RlbmVycyIsIlBvcHVwV2l0aEZvcm0iLCJzdWJtaXRGdW5jdGlvbiIsInN1cGVyIiwic3VibWl0IiwiaW5wdXRzIiwiYnV0dG9uIiwiYnV0dG9uVGV4dCIsInJlbmRlckxvYWRpbmciLCJpc0xvYWRpbmciLCJfZ2V0SW5wdXRWYWx1ZXMiLCJpbnB1dHZhbHVlcyIsInZhbHVlIiwic2V0SW5wdXRzIiwiaW5wdXRWYWx1ZXMiLCJwcmV2ZW50RGVmYXVsdCIsImFwaSIsIm9wdGlvbnMiLCJfYmFzZVVybCIsImJhc2VVcmwiLCJfaGVhZGVycyIsImhlYWRlcnMiLCJfcHJvY2Vzc1Jlc3BvbnNlIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImdldFVzZXJJbmZvIiwiZmV0Y2giLCJ0aGVuIiwiZGVzY3JpcHRpb24iLCJhYm91dCIsInVwZGF0ZVVzZXJJbmZvIiwiX3JlZiIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwidXBkYXRlVXNlckltYWdlIiwiX3JlZjIiLCJhdmF0YXIiLCJnZXRJbml0aWFsQ2FyZHMiLCJwb3N0Q2FyZCIsIl9yZWYzIiwiZGVsZXRlQ2FyZCIsImNhcmRJZCIsImxpa2VDYXJkIiwiZGlzbGlrZUNhcmQiLCJnZXRBbGwiLCJhbGwiLCJhdXRob3JpemF0aW9uIiwidmFsaWRhdGlvbk9iaiIsImZvcm1TZWxlY3RvciIsImZpZWxkU2VsZWN0b3IiLCJlcnJvclNlbGVjdG9yIiwiZWRpdEJ1dHRvbiIsImFkZEJ1dHRvbiIsInByb2ZpbGVJbWFnZSIsImVkaXRGb3JtIiwiZm9ybXMiLCJhZGRDYXJkRm9ybSIsInByb2ZpbGVQaWNGb3JtIiwibW9kYWxJbWFnZSIsIm1vZGFsVGl0bGUiLCJwb3B1cHMiLCJjYXJkUG9wdXAiLCJfcmVmNCIsInRpdGxlIiwiY2FyZERhdGEiLCJjYXJkU2VjdGlvbiIsImFkZEl0ZW0iLCJyZXNldCIsImZvcm1WYWxpZGF0b3JzIiwiY2FyZEZvcm1WYWxpZGF0aW9uIiwiY2F0Y2giLCJlcnIiLCJjb25zb2xlIiwiZXJyb3IiLCJmaW5hbGx5IiwicHJvZmlsZVBvcHVwIiwidXNlckluZm8iLCJzZXRVc2VySW5mbyIsInByb2ZpbGVQaWNQb3B1cCIsInNldFVzZXJJbWFnZSIsInBpY0Zvcm1WYWxpZGF0aW9uIiwiZGVsZXRlQ2FyZFBvcHVwIiwiYWN0aW9uIiwiX2Zvcm0iLCJfYnV0dG9uIiwiX2J1dHRvblRleHQiLCJzZXRBY3Rpb24iLCJfaGFuZGxlRm9ybVN1Ym1pdCIsImxvY2F0aW9uUG9wdXAiLCJuYW1lU2VsZWN0b3IiLCJkZXNjcmlwdGlvblNlbGVjdG9yIiwiY2xhc3NTZWxlY3RvciIsInJlbmRlcmVyIiwiY29udGFpbmVyIiwicmVuZGVySXRlbXMiLCJpdGVtcyIsIml0ZW0iLCJlbGVtZW50IiwiYXJndW1lbnRzIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwiY2FyZCIsIm9wZW5EZWxldGVNb2RhbCIsInRvZ2dsZUxpa2UiLCJlZGl0Rm9ybVZhbGlkYXRpb24iLCJwb3B1cCIsInVzZXJEYXRhIiwiY2FyZHNEYXRhIl0sInNvdXJjZVJvb3QiOiIifQ==